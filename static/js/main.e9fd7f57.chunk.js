(this["webpackJsonpargentina-al-mundo"]=this["webpackJsonpargentina-al-mundo"]||[]).push([[0],{36:function(e,t,c){},42:function(e,t,c){},43:function(e,t,c){},44:function(e,t,c){},45:function(e,t,c){},51:function(e,t,c){},52:function(e,t,c){},53:function(e,t,c){},73:function(e,t,c){},74:function(e,t,c){},75:function(e,t,c){},76:function(e,t,c){},77:function(e,t,c){},78:function(e,t,c){},79:function(e,t,c){},80:function(e,t,c){},82:function(e,t,c){"use strict";c.r(t);var a=c(2),n=c.n(a),s=c(17),i=c.n(s),r=(c(42),c(43),c(44),c(8)),l=(c(45),c(33)),o=c(4),j=c(1),d=Object(a.createContext)(),b=function(e){var t=e.children,c=Object(a.useState)([]),n=Object(o.a)(c,2),s=n[0],i=n[1],r=Object(a.useState)(),b=Object(o.a)(r,2),u=b[0],m=b[1],O=Object(a.useState)(),h=Object(o.a)(O,2),x=h[0],f=h[1],p=Object(a.useState)(),v=Object(o.a)(p,2),g=v[0],N=v[1],y=Object(a.useState)(),C=Object(o.a)(y,2),k=C[0],I=C[1],S={buyer:g,cart:s,countCart:u,totalPrice:x},E=function(e){return!!s.find((function(t){return t.item.id===e}))},T=function(e){i([].concat(Object(l.a)(s),[e])),localStorage.setItem("cart",JSON.stringify([].concat(Object(l.a)(s),[e])))},w=function(){var e=0;s.length>0&&s.forEach((function(t){e+=t.quantity})),m(e)};return Object(a.useEffect)((function(){w(),function(){var e=0;s.length>0&&s.forEach((function(t){e+=t.item.price*t.quantity})),f(e)}()}),[s]),Object(j.jsx)(d.Provider,{value:{addItem:function(e,t){if(E(e.id)){var c=s.slice();s.find((function(t){return t.item.id===e.id})).quantity+=t,i(c)}else T({item:e,quantity:t})},cart:s,removeItem:function(e){i(s.filter((function(t){return t.item.id!==e}))),console.log("Se ha eliminado: ",s.item)},countCart:u,contadorCarrito:w,clearCart:function(){i([]),m(0),f(0),localStorage.setItem("cart",JSON.stringify()),console.log("Carrito vaciado")},totalPrice:x,setBuyer:N,order:S,setIdDelPedido:I,idDelPedido:k},children:t})},u=function(){var e=Object(a.useContext)(d).countCart;return Object(j.jsx)(r.b,{to:"/cart",className:"link-cart",children:Object(j.jsxs)("div",{className:"cartWidgetContainer",children:[Object(j.jsx)("i",{className:"fas fa-shopping-cart cartWidgetOn"}),Object(j.jsx)("span",{children:e})]})})},m=c.p+"static/media/logo.9879df79.png",O=function(){return Object(j.jsx)("nav",{className:"navbar navbar-expand-lg",children:Object(j.jsxs)("div",{className:"container-fluid",children:[Object(j.jsx)(r.b,{to:"/arg-al-mundo",children:Object(j.jsx)("img",{className:"logo",src:m,alt:""})}),Object(j.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(j.jsx)("span",{className:"navbar-toggler-icon",children:Object(j.jsx)("i",{class:"fas fa-bars"})})}),Object(j.jsxs)("div",{className:"items-navbar collapse navbar-collapse",id:"navbarNavAltMarkup",children:[Object(j.jsxs)("div",{className:"navbar-nav",children:[Object(j.jsx)(r.c,{activeClassName:"item-dulces",className:"nav-link",to:"/categories/Dulce",children:"Dulces"}),Object(j.jsx)(r.c,{activeClassName:"item-salados",className:"nav-link",to:"/categories/Salado",children:"Salados"}),Object(j.jsx)(r.c,{activeClassName:"item-bebidas",className:"nav-link",to:"/categories/Bebida",children:"Bebidas"})]}),Object(j.jsx)("div",{className:"cart-widget",children:Object(j.jsx)(u,{})})]})]})})},h=c(6),x=(c(51),c(52),c(53),function(e){var t=e.item,c=t.id;return Object(j.jsx)(r.b,{className:"link",to:"/item/".concat(c),children:Object(j.jsxs)("div",{className:"item",children:[Object(j.jsx)("img",{className:"imgItem",src:t.pictureUrl,alt:""}),Object(j.jsx)("div",{className:"item-description-container",children:Object(j.jsxs)("div",{className:"item-description",children:[Object(j.jsx)("h3",{className:"titleItem",children:t.title}),Object(j.jsxs)("p",{className:"priceItem",children:["$ ",t.price]})]})})]})})}),f=(c(35),c(24)),p=c.n(f),v=function(e){var t=e.items;return Object(j.jsx)("div",{className:"item-card",children:0===t.length?Object(j.jsx)(p.a,{className:"loader",type:"ThreeDots",color:"#603F8B",height:100,width:100}):t.map((function(e){return Object(j.jsx)(x,{item:e},e.id)}))})},g=c(9),N=c(31),y=(c(83),N.a.initializeApp({apiKey:"AIzaSyBFgfEsXV2MbT0J0q3WChGQZgRtE-KFZ48",authDomain:"arg-almundo.firebaseapp.com",projectId:"arg-almundo",storageBucket:"arg-almundo.appspot.com",messagingSenderId:"1093467696048",appId:"1:1093467696048:web:6dd7bc9ca0ea33037c0475"})),C=function(){return N.a.firestore(y)},k=function(){var e=Object(g.f)().id,t=Object(a.useState)([]),c=Object(o.a)(t,2),n=c[0],s=c[1],i=Object(a.useState)(),r=Object(o.a)(i,2),l=(r[0],r[1]);return Object(a.useEffect)((function(){l(!0);var t=C().collection("products"),c=e?t.where("categoryId","==",e):t;setTimeout((function(){c.get().then((function(e){0===e.size&&console.log("No results!"),s(e.docs.map((function(e){return Object(h.a)({id:e.id},e.data())})))})).catch((function(e){console.log("Error")})).finally((function(){l(!1)}))}),500)}),[e]),Object(j.jsx)("div",{className:"itemListContainer",children:Object(j.jsx)(v,{items:n})})},I=(c(73),c(74),c(75),function(e){var t=e.onAdd,c=e.state,n=e.isInCart,s=e.stockItem,i=Object(a.useState)(1),l=Object(o.a)(i,2),d=l[0],b=l[1],u=Object(a.useState)(s),m=Object(o.a)(u,2),O=m[0],h=m[1];return Object(j.jsxs)(a.Fragment,{children:[Object(j.jsxs)("div",{style:{display:c?"none":"block"},className:"btnContainer",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{className:"btnCount",onClick:function(){d>1?(b(Number(d)-1),h(Number(O)+1)):alert("Acci\xf3n invalida")},children:Object(j.jsx)("i",{class:"fas fa-minus"})}),Object(j.jsx)("span",{children:d}),Object(j.jsx)("button",{className:"btnCount",onClick:function(){O>1?(b(Number(d)+1),h(Number(O)-1)):alert("No hay mas stock")},children:Object(j.jsx)("i",{class:"fas fa-plus"})})]}),Object(j.jsx)("button",{onClick:function(){t(d)},className:"addCart",children:"Agregar"})]}),Object(j.jsx)(r.b,{className:"link-button",to:"/cart",children:Object(j.jsx)("button",{style:{display:c?"block":"none"},className:"btnFinalizarCompra",children:"Finalizar compra"})}),Object(j.jsx)("div",{children:Object(j.jsx)("p",{style:{display:n?"block":"none"},children:"El producto ya existe en el carrito"})})]})}),S=function(e){var t=e.item,c=Object(a.useState)(!1),n=Object(o.a)(c,2),s=n[0],i=n[1],r=Object(a.useContext)(d).addItem,l=t[0],b=l.pictureUrl,u=l.title,m=l.price,O=l.stock,h=l.desc;return Object(j.jsx)("div",{className:"container",children:Object(j.jsxs)("div",{className:"item-detail-container",children:[Object(j.jsx)("img",{className:"item-detail-img",src:b,alt:""}),Object(j.jsxs)("div",{className:"item-detail-description",children:[Object(j.jsx)("h3",{className:"item-detail-title",children:u}),Object(j.jsxs)("p",{className:"item-detail-price",children:["$ ",m]}),Object(j.jsx)("div",{className:"item-detail-count",children:Object(j.jsx)(I,{onAdd:function(e){i(!0);var c=t[0];r(c,e)},state:s,stockItem:O})})]}),Object(j.jsx)("div",{className:"item-detail-p",children:Object(j.jsx)("p",{children:h})})]})})},E=function(){var e=Object(g.f)().id,t=Object(a.useState)(),c=Object(o.a)(t,2),n=c[0],s=c[1],i=Object(a.useState)(),r=Object(o.a)(i,2),l=(r[0],r[1]);return Object(a.useEffect)((function(){l(!0);var t=C().collection("products"),c=e,a=t.doc(c);setTimeout((function(){a.get().then((function(e){e.exists?s([Object(h.a)({id:e.id},e.data())]):console.log("No existe el item")})).catch((function(e){console.log("error",e)})).finally((function(){l(!1)}))}),1e3)}),[e]),Object(j.jsx)("div",{className:"item-detail",children:void 0===n?Object(j.jsx)(p.a,{className:"loader",type:"ThreeDots",color:"#603F8B",height:100,width:100}):Object(j.jsx)(S,{item:n})})},T=(c(76),function(){var e=Object(a.useContext)(d),t=e.cart,c=e.countCart,n=e.totalPrice,s=e.order,i=e.setIdDelPedido,l=s.buyer,b=Object(a.useState)(),u=Object(o.a)(b,2),m=(u[0],u[1]);return Object(a.useEffect)((function(){var e=C().collection("orders"),a={buyer:l,items:t,totalQuantity:c,totalPrice:n};e.add(a).then((function(e){var t=e.id;m(t),i(t)})).finally((function(){}))}),[l]),Object(j.jsxs)("div",{className:"container-resumen",children:[Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"resume-compra",children:[Object(j.jsx)("h1",{children:"Resumen de compra"}),Object(j.jsxs)("p",{className:"cantidad-cart",children:["Genial! Tenes ",c," productos en el carrito"]})]}),Object(j.jsx)("div",{children:t.map((function(e){return Object(j.jsx)("div",{className:"items-resumen",children:Object(j.jsxs)("p",{children:[Object(j.jsx)("i",{class:"fas fa-angle-double-right",children:"  "}),e.item.title," - x",e.quantity," unidades"]})},e.item.id)}))})]}),Object(j.jsx)("div",{class:"total-abonar-container",children:Object(j.jsxs)("p",{className:"total-abonar",children:["Total a abonar: ",Object(j.jsxs)("span",{children:["$ ",n," "]})]})}),Object(j.jsx)(r.b,{to:"checkout",class:"btn-finalizar",children:"Confirmar pedido"})]})}),w=(c(36),c(77),function(){var e=Object(a.useContext)(d),t=e.cart,c=e.countCart,n=e.totalPrice,s=e.removeItem,i=e.clearCart,l=e.setBuyer,b=Object(a.useState)(!1),u=Object(o.a)(b,2),m=u[0],O=u[1],h=Object(a.useState)({}),x=Object(o.a)(h,2),f=x[0],p=x[1],v=function(){var e={name:document.getElementById("name").value,lastname:document.getElementById("lastname").value,email:document.getElementById("email").value,phone:document.getElementById("phone").value};p(e),l(e)};return Object(j.jsx)(a.Fragment,{children:void 0===t||0===t.length?Object(j.jsxs)("div",{className:"no-products",children:[Object(j.jsx)("p",{children:"Ops! No hay productos en el carrito"}),Object(j.jsx)(r.b,{to:"/arg-al-mundo",className:"link-home",children:"Ir a la tienda"})]}):Object(j.jsxs)("div",{className:"cart-container",children:[Object(j.jsxs)("div",{style:{display:m?"none":"block"},children:[Object(j.jsx)("div",{className:"cart",children:Object(j.jsxs)("table",{class:"table",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{scope:"col",children:"#"}),Object(j.jsx)("th",{scope:"col",children:"Producto"}),Object(j.jsx)("th",{scope:"col",children:"Cantidad"}),Object(j.jsx)("th",{scope:"col",children:"Precio"})]})}),Object(j.jsxs)("tbody",{children:[t.map((function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{scope:"row",children:Object(j.jsx)("button",{className:"btn-cross",onClick:function(t){s(e.item.id)},children:Object(j.jsx)("i",{class:"fas fa-times"})})}),Object(j.jsx)("td",{children:e.item.title}),Object(j.jsxs)("td",{children:["x ",e.quantity]}),Object(j.jsxs)("td",{children:["$ ",e.item.price]})]})})),Object(j.jsxs)("tr",{className:"cart-totales table-danger",children:[Object(j.jsx)("th",{scope:"row",children:"Totales"}),Object(j.jsx)("td",{}),Object(j.jsx)("td",{children:c}),Object(j.jsxs)("td",{children:["$ ",n]})]})]})]})}),Object(j.jsxs)("div",{className:"btn-carrito",children:[Object(j.jsx)("button",{onClick:function(){O(!0)},className:"link-finalizar-compra",children:"Finalizar Compra"}),Object(j.jsx)("button",{onClick:i,children:"Vaciar el Carrito"})]})]}),Object(j.jsxs)("div",{style:{display:m?"block":"none"},children:[Object(j.jsx)("h2",{className:"title-checkout",children:"Completa tus datos para finalizar la compra:"}),Object(j.jsxs)("div",{className:"checkout-form",children:[Object(j.jsxs)("label",{children:["Nombre:",Object(j.jsx)("input",{value:f.name,onChange:v,id:"name",type:"text"})]}),Object(j.jsxs)("label",{children:["Apellido:",Object(j.jsx)("input",{value:f.lastname,onChange:v,id:"lastname",type:"text"})]}),Object(j.jsxs)("label",{children:["E-mail:",Object(j.jsx)("input",{value:f.email,onChange:v,id:"email",type:"email"})]}),Object(j.jsxs)("label",{children:["Telefono:",Object(j.jsx)("input",{value:f.phone,onChange:v,id:"phone",type:"number"})]}),Object(j.jsx)(r.b,{to:"/finalizar-compra",class:"finalizar-compra",children:"Comprar"})]})]})]})})}),z=(c(78),function(){var e=Object(a.useContext)(d),t=e.clearCart,c=(e.order,e.idDelPedido);return Object(j.jsxs)("div",{className:"checkout-container",children:[Object(j.jsx)("h1",{children:"Tu pedido fue confirmado!"}),Object(j.jsxs)("p",{children:['Tu codigo de seguimiento es el: "'," ",Object(j.jsx)("span",{class:"idOrder",children:c}),' "']}),Object(j.jsx)("p",{children:"Te enviaremos un mail a tu correo electronico para abonar y finalizar la compra"}),Object(j.jsx)(r.b,{to:"/arg-al-mundo",children:Object(j.jsx)("button",{class:"btn-checkout",onClick:t,children:"Volver a la tienda"})})]})}),B=(c(79),c(22)),F=c.p+"static/media/brand1.e804b116.png",P=c.p+"static/media/brand2.b502ecd6.png",A=c.p+"static/media/brand3.d5aca932.png",D=c.p+"static/media/brandmobile.a9ebc8f0.png",q=function(){var e=Object(a.useState)(0),t=Object(o.a)(e,2),c=t[0],n=t[1];return Object(j.jsxs)(a.Fragment,{children:[Object(j.jsxs)(B.a,{className:"carousel-mobile",activeIndex:c,onSelect:function(e,t){n(e)},children:[Object(j.jsx)(B.a.Item,{className:"img-container",interval:2e3,children:Object(j.jsx)("img",{className:"d-block w-100",src:F,alt:"First slide"})}),Object(j.jsx)(B.a.Item,{className:"img-container",interval:2e3,children:Object(j.jsx)("img",{className:"d-block w-100",src:P,alt:"Second slide"})}),Object(j.jsx)(B.a.Item,{className:"img-container",interval:2e3,children:Object(j.jsx)("img",{className:"d-block w-100",src:A,alt:"Third slide"})})]}),Object(j.jsx)("div",{className:"banner-mobile",children:Object(j.jsx)("img",{src:D,alt:""})})]})},J=(c(80),function(){return Object(j.jsxs)("div",{className:"footerContainer",children:[Object(j.jsxs)("div",{className:"footerRedesIcons",children:[Object(j.jsx)("i",{class:"fab fa-facebook-square"}),Object(j.jsx)("i",{class:"fab fa-instagram"}),Object(j.jsx)("i",{class:"fab fa-twitter"})]}),Object(j.jsx)("div",{className:"textFooter",children:Object(j.jsx)("p",{children:"Todos los derechos reservados @2021"})})]})}),M=(c(81),function(){return Object(j.jsxs)(r.a,{children:[Object(j.jsx)(O,{}),Object(j.jsxs)(g.c,{children:[Object(j.jsxs)(g.a,{exact:!0,path:"/arg-al-mundo",children:[Object(j.jsx)(q,{}),Object(j.jsx)(k,{})]}),Object(j.jsx)(g.a,{exact:!0,path:"/categories/:id",children:Object(j.jsx)(k,{})}),Object(j.jsx)(g.a,{exact:!0,path:"/item/:id",children:Object(j.jsx)(E,{})}),Object(j.jsx)(g.a,{exact:!0,path:"/cart",children:Object(j.jsx)(w,{})}),Object(j.jsx)(g.a,{exact:!0,path:"/finalizar-compra",children:Object(j.jsx)(T,{})}),Object(j.jsx)(g.a,{exact:!0,path:"/checkout",children:Object(j.jsx)(z,{})})]}),Object(j.jsx)(J,{})]})});i.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(b,{children:Object(j.jsx)(M,{})})}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.e9fd7f57.chunk.js.map